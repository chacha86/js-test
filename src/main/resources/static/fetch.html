<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    // ajax -> asynchronous javascript and xml
    // 비동기 통신
    // 비동기 -> 일을 시작하고 끝날 때까지 기다리는 게 동기, 기다리지 않는게 비동기
    // 집안일 -> 세탁기, 설거지, 청소
    // A : 세탁기 돌리고 다 될때까지 앞에서 기다림. 설거지 안함. 청소 안함.
    // B : 세탁기 돌려놓고, 식기 세척기 돌려놓고, 청소기를 돌리는 와중에 식기 세척기가 완료되었다고 알림이 울리면 식기 세척기에서 설거지된 것을 정리..

    // 서버에 데이터 요청 -> 서버에서 DB 조회 -> DB 조회에 10분이 걸림 -> 우리 페이지는 10분동안 아무것도 못함. (동기)
    // 서버에 데이터 요청 -> 서버에서 DB 조회 -> DB 조회에 10분이 걸림 -> 우리 페이지는 다른 영역을 렌더링함 -> 10분 후에 DB 조회 완료되면 그에 해당하는 부분만 따로 렌더링 (비동기)

    let isComplete = false;

    fetch('http://localhost:8080/test') // 웹서버
        .then((response) => {
            console.log(response);
            return response.json();
        })
        .then((result) => {
            console.log(result.data);
            isComplete = true;

            if(isComplete) {
                document.querySelector("body").innerHTML = `<div>${result.data}</div>`;
            }
        });


    // 비동기의 특징
    // 함수가 코드의 순서대로 실행되지 않는다.
    // 비동기 함수들은 작업이 완료되는 시점에 실행된다.
    function test() {
        console.log("test");
    }


</script>
</body>
</html>